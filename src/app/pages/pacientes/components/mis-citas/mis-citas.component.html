<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>
<div class="card">
    <p-card header="Mis Citas">
        <p-table [value]="citas" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>ID</th>
                    <th>Nombre del Paciente</th>
                    <th>Tópico</th>
                    <th>Día y Hora</th>
                    <th>Estado</th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-cita>
                <tr>
                    <td>{{ cita.codigo }}</td>
                    <td>
                        {{ cita.paciente.nombres }} {{ cita.paciente.apellidos }}
                    </td>
                    <td>
                        {{ cita.psicologo.especialidad.nombre }}
                    </td>
                    <td>{{ cita.reservationDate | date:'medium' }}</td>
                    <td>{{ cita.estado }}</td>
                    <td class="inline-flex gap-3">
                        <p-button 
                            [disabled]="cita.estado === 'CANCELADO'"
                            label="Reprogramar" 
                            severity="info"
                            (click)="reprogramarCita(cita)"
                        ></p-button>
                        <p-button 
                            [disabled]="cita.estado === 'CANCELADO'"
                            label="Cancelar" 
                            severity="danger"
                            (click)="cancelarCita(cita)"
                        ></p-button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-card>
</div>
